<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Cuaca Multi-Sumber</title>
    <!-- Menambahkan CDN untuk React dan Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; }
        .header { background: white; border-radius: 20px; padding: 30px; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .header-content { display: grid; grid-template-columns: 1fr 350px; gap: 30px; align-items: start; }
        .header-info h1 { color: #333; font-size: 28px; font-weight: 700; }
        .location { color: #666; font-size: 16px; margin-bottom: 5px; }
        .location-selector { margin-top: 15px; }
        .location-dropdown { width: 100%; padding: 12px 15px; font-size: 15px; border: 2px solid #e0e0e0; border-radius: 10px; background: white; color: #333; }
        .location-dropdown:hover { border-color: #667eea; }
        .last-update { color: #999; font-size: 14px; margin-top: 10px; }
        .map-container { width: 100%; height: 250px; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .map-container iframe { width: 100%; height: 100%; border: none; }
        .section-title { color: white; font-size: 24px; font-weight: 700; margin: 30px 0 15px 0; }
        .comparison-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
        .source-card { background: white; border-radius: 20px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); position: relative; }
        .source-badge { position: absolute; top: 0; right: 0; background: #667eea; color: white; padding: 8px 20px; border-bottom-left-radius: 15px; font-size: 12px; font-weight: 600; text-transform: uppercase; }
        .weather-animation { position: relative; height: 120px; margin: 20px 0; display: flex; align-items: center; justify-content: center; }
        
        /* Cloud animation */
        .cloud-container { position: relative; display: flex; justify-content: center; align-items: center; }
        .cloud { width: 90px; height: 35px; background: #ecf0f1; border-radius: 50px; }
        .cloud::before { content: ''; width: 50px; height: 50px; background: #ecf0f1; border-radius: 50%; position: absolute; top: -25px; left: 10px; }
        .cloud::after { content: ''; width: 40px; height: 40px; background: #ecf0f1; border-radius: 50%; position: absolute; top: -20px; right: 15px; }
        
        .loading { text-align: center; padding: 50px; color: white; font-size: 18px; }
        .loading-spinner { border: 4px solid rgba(255,255,255,0.3); border-top: 4px solid white; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .error { background: #ff4444; color: white; padding: 20px; border-radius: 10px; text-align: center; }
        .refresh-btn { background: #667eea; color: white; border: none; padding: 12px 24px; border-radius: 10px; font-size: 16px; cursor: pointer; margin-top: 15px; font-weight: 600; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function WeatherApp() {
            const [weatherData, setWeatherData] = useState(null);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);

            // Simulasi data cuaca untuk GitHub Pages
            const fetchWeatherData = async () => {
                setLoading(true);
                setError(null);
                try {
                    // Mengambil data cuaca (ganti dengan API nyata saat dibutuhkan)
                    const data = {
                        temperature: 28,
                        humidity: 60,
                        condition: 'Cerah Berawan',
                        icon: '☀️'
                    };
                    setWeatherData(data);
                    setLoading(false);
                } catch (err) {
                    setError('Gagal memuat data cuaca');
                    setLoading(false);
                }
            };

            useEffect(() => {
                fetchWeatherData();
            }, []);

            return (
                <div className="container">
                    <div className="header">
                        <div className="header-content">
                            <div className="header-info">
                                <h1>Dashboard Cuaca Multi-Sumber</h1>
                                <div className="location">Lokasi: B-PIT KSA</div>
                                {loading ? (
                                    <div className="loading">
                                        <div className="loading-spinner"></div>
                                        <h2>Memuat data cuaca...</h2>
                                    </div>
                                ) : error ? (
                                    <div className="error">
                                        <h2>Terjadi Kesalahan</h2>
                                        <p>{error}</p>
                                        <button className="refresh-btn" onClick={fetchWeatherData}>
                                            Coba Lagi
                                        </button>
                                    </div>
                                ) : (
                                    <div>
                                        <div className="weather-animation">
                                            <div className="cloud-container">
                                                <div className="cloud"></div>
                                            </div>
                                        </div>
                                        <div className="temp-large">{weatherData.temperature}°C</div>
                                        <div className="condition">{weatherData.condition}</div>
                                        <div className="section-title">Informasi Cuaca</div>
                                        <div>Kelembaban: {weatherData.humidity}%</div>
                                    </div>
                                )}
                            </div>
                            <div className="map-container">
                                <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d15955.0!2d101.2318!3d1.4293" allowfullscreen="" loading="lazy"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<WeatherApp />, document.getElementById('root'));
    </script>
</body>
</html>
